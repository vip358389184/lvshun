/**
 * jQuery EasyUI 1.3.6
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */

(function(a){function b(b,c){function m(){var b=a("#"+f);if(!b.length)return;try{var c=b.contents()[0].readyState;c&&c.toLowerCase()=="uninitialized"&&setTimeout(m,100)}catch(d){o()}}function o(){var b=a("#"+f);if(!b.length)return;b.unbind();var d="";try{var e=b.contents().find("body");d=e.html();if(d==""&&--n){setTimeout(o,100);return}var g=e.find(">textarea");if(g.length)d=g.val();else{var h=e.find(">pre");h.length&&(d=h.html())}}catch(i){}c.success&&c.success(d),setTimeout(function(){b.unbind(),b.remove()},100)}c=c||{};var d={};if(c.onSubmit&&c.onSubmit.call(b,d)==0)return;var e=a(b);c.url&&e.attr("action",c.url);var f="easyui_frame_"+(new Date).getTime(),g=a("<iframe id="+f+" name="+f+"></iframe>").attr("src",window.ActiveXObject?"javascript:false":"about:blank").css({position:"absolute",top:-1e3,left:-1e3}),h=e.attr("target"),i=e.attr("action");e.attr("target",f);var j=a();try{g.appendTo("body"),g.bind("load",o);for(var k in d){var l=a('<input type="hidden" name="'+k+'">').val(d[k]).appendTo(e);j=j.add(l)}m(),e[0].submit()}finally{e.attr("action",i),h?e.attr("target",h):e.removeAttr("target"),j.remove()}var n=10}function c(b,c){function f(c){var e=a(b);for(var f in c){var k=c[f],l=h(f,k);if(!l.length){var m=i(f,k);m||(a('input[name="'+f+'"]',e).val(k),a('textarea[name="'+f+'"]',e).val(k),a('select[name="'+f+'"]',e).val(k))}j(f,k)}d.onLoadSuccess.call(b,c),g(b)}function h(c,d){var e=a(b).find('input[name="'+c+'"][type=radio], input[name="'+c+'"][type=checkbox]');return e._propAttr("checked",!1),e.each(function(){var b=a(this);(b.val()==String(d)||a.inArray(b.val(),a.isArray(d)?d:[d])>=0)&&b._propAttr("checked",!0)}),e}function i(c,d){var e=0,f=["numberbox","slider"];for(var g=0;g<f.length;g++){var h=f[g],i=a(b).find("input["+h+'Name="'+c+'"]');i.length&&(i[h]("setValue",d),e+=i.length)}return e}function j(c,d){var e=a(b),f=["combobox","combotree","combogrid","datetimebox","datebox","combo"],g=e.find('[comboName="'+c+'"]');if(g.length)for(var h=0;h<f.length;h++){var i=f[h];if(g.hasClass(i+"-f")){g[i]("options").multiple?g[i]("setValues",d):g[i]("setValue",d);return}}}a.data(b,"form")||a.data(b,"form",{options:a.extend({},a.fn.form.defaults)});var d=a.data(b,"form").options;if(typeof c=="string"){var e={};if(d.onBeforeLoad.call(b,e)==0)return;a.ajax({url:c,data:e,dataType:"json",success:function(a){f(a)},error:function(){d.onLoadError.apply(b,arguments)}})}else f(c)}function d(b){a("input,select,textarea",b).each(function(){var b=this.type,c=this.tagName.toLowerCase();if(b=="text"||b=="hidden"||b=="password"||c=="textarea")this.value="";else if(b=="file"){var d=a(this),e=d.clone().val("");e.insertAfter(d),d.data("validatebox")?(d.validatebox("destroy"),e.validatebox()):d.remove()}else b=="checkbox"||b=="radio"?this.checked=!1:c=="select"&&(this.selectedIndex=-1)});var c=a(b),d=["combo","combobox","combotree","combogrid","slider"];for(var e=0;e<d.length;e++){var f=d[e],h=c.find("."+f+"-f");h.length&&h[f]&&h[f]("clear")}g(b)}function e(b){b.reset();var c=a(b),d=["combo","combobox","combotree","combogrid","datebox","datetimebox","spinner","timespinner","numberbox","numberspinner","slider"];for(var e=0;e<d.length;e++){var f=d[e],h=c.find("."+f+"-f");h.length&&h[f]&&h[f]("reset")}g(b)}function f(c){var d=a.data(c,"form").options,e=a(c);e.unbind(".form").bind("submit.form",function(){return setTimeout(function(){b(c,d)},0),!1})}function g(b){if(a.fn.validatebox){var c=a(b);c.find(".validatebox-text:not(:disabled)").validatebox("validate");var d=c.find(".validatebox-invalid");return d.filter(":not(:disabled):first").focus(),d.length==0}return!0}function h(b,c){a(b).find(".validatebox-text:not(:disabled)").validatebox(c?"disableValidation":"enableValidation")}a.fn.form=function(b,c){return typeof b=="string"?a.fn.form.methods[b](this,c):(b=b||{},this.each(function(){a.data(this,"form")||a.data(this,"form",{options:a.extend({},a.fn.form.defaults,b)}),f(this)}))},a.fn.form.methods={submit:function(c,d){return c.each(function(){var c=a.extend({},a.fn.form.defaults,a.data(this,"form")?a.data(this,"form").options:{},d||{});b(this,c)})},load:function(a,b){return a.each(function(){c(this,b)})},clear:function(a){return a.each(function(){d(this)})},reset:function(a){return a.each(function(){e(this)})},validate:function(a){return g(a[0])},disableValidation:function(a){return a.each(function(){h(this,!0)})},enableValidation:function(a){return a.each(function(){h(this,!1)})}},a.fn.form.defaults={url:null,onSubmit:function(b){return a(this).form("validate")},success:function(a){},onBeforeLoad:function(a){},onLoadSuccess:function(a){},onLoadError:function(){}}})(jQuery)