/**
 * jQuery EasyUI 1.3.6
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */

(function($){function _1(a){$(a).addClass("searchbox-f").hide();var b=$('<span class="searchbox"></span>').insertAfter(a),c=$('<input type="text" class="searchbox-text">').appendTo(b);$('<span><span class="searchbox-button"></span></span>').appendTo(b);var d=$(a).attr("name");return d&&(c.attr("name",d),$(a).removeAttr("name").attr("searchboxName",d)),b}function _6(a,b){var c=$.data(a,"searchbox").options,d=$.data(a,"searchbox").searchbox;b&&(c.width=b),d.appendTo("body"),isNaN(c.width)&&(c.width=d._outerWidth());var e=d.find("span.searchbox-button"),f=d.find("a.searchbox-menu"),g=d.find("input.searchbox-text");d._outerWidth(c.width)._outerHeight(c.height),g._outerWidth(d.width()-f._outerWidth()-e._outerWidth()),g.css({height:d.height()+"px",lineHeight:d.height()+"px"}),f._outerHeight(d.height()),e._outerHeight(d.height());var h=f.find("span.l-btn-left");h._outerHeight(d.height()),h.find("span.l-btn-text").css({height:h.height()+"px",lineHeight:h.height()+"px"}),d.insertAfter(a)}function _e(a){function e(c){b.searchbox.find("a.searchbox-menu").remove();var d=$('<a class="searchbox-menu" href="javascript:void(0)"></a>').html(c.text);d.prependTo(b.searchbox).menubutton({menu:b.menu,iconCls:c.iconCls}),b.searchbox.find("input.searchbox-text").attr("name",c.name||c.text),_6(a)}var b=$.data(a,"searchbox"),c=b.options;if(c.menu){b.menu=$(c.menu).menu({onClick:function(a){e(a)}});var d=b.menu.children("div.menu-item:first");b.menu.children("div.menu-item").each(function(){var a=$.extend({},$.parser.parseOptions(this),{selected:$(this).attr("selected")?!0:undefined});if(a.selected)return d=$(this),!1}),d.triggerHandler("click")}else b.searchbox.find("a.searchbox-menu").remove(),b.menu=null}function _17(a){var b=$.data(a,"searchbox"),c=b.options,d=b.searchbox.find("input.searchbox-text"),e=b.searchbox.find(".searchbox-button");d.unbind(".searchbox"),e.unbind(".searchbox"),c.disabled||(d.bind("blur.searchbox",function(a){c.value=$(this).val(),c.value==""?($(this).val(c.prompt),$(this).addClass("searchbox-prompt")):$(this).removeClass("searchbox-prompt")}).bind("focus.searchbox",function(a){$(this).val()!=c.value&&$(this).val(c.value),$(this).removeClass("searchbox-prompt")}).bind("keydown.searchbox",function(b){if(b.keyCode==13)return b.preventDefault(),c.value=$(this).val(),c.searcher.call(a,c.value,d._propAttr("name")),!1}),e.bind("click.searchbox",function(){c.searcher.call(a,c.value,d._propAttr("name"))}).bind("mouseenter.searchbox",function(){$(this).addClass("searchbox-button-hover")}).bind("mouseleave.searchbox",function(){$(this).removeClass("searchbox-button-hover")}))}function _1d(a,b){var c=$.data(a,"searchbox"),d=c.options,e=c.searchbox.find("input.searchbox-text"),f=c.searchbox.find("a.searchbox-menu");b?(d.disabled=!0,$(a).attr("disabled",!0),e.attr("disabled",!0),f.length&&f.menubutton("disable")):(d.disabled=!1,$(a).removeAttr("disabled"),e.removeAttr("disabled"),f.length&&f.menubutton("enable"))}function _23(a){var b=$.data(a,"searchbox"),c=b.options,d=b.searchbox.find("input.searchbox-text");c.originalValue=c.value,c.value?(d.val(c.value),d.removeClass("searchbox-prompt")):(d.val(c.prompt),d.addClass("searchbox-prompt"))}$.fn.searchbox=function(a,b){return typeof a=="string"?$.fn.searchbox.methods[a](this,b):(a=a||{},this.each(function(){var b=$.data(this,"searchbox");b?$.extend(b.options,a):b=$.data(this,"searchbox",{options:$.extend({},$.fn.searchbox.defaults,$.fn.searchbox.parseOptions(this),a),searchbox:_1(this)}),_e(this),_23(this),_17(this),_1d(this,b.options.disabled),_6(this)}))},$.fn.searchbox.methods={options:function(a){return $.data(a[0],"searchbox").options},menu:function(a){return $.data(a[0],"searchbox").menu},textbox:function(a){return $.data(a[0],"searchbox").searchbox.find("input.searchbox-text")},getValue:function(a){return $.data(a[0],"searchbox").options.value},setValue:function(a,b){return a.each(function(){$(this).searchbox("options").value=b,$(this).searchbox("textbox").val(b),$(this).searchbox("textbox").blur()})},clear:function(a){return a.each(function(){$(this).searchbox("setValue","")})},reset:function(a){return a.each(function(){var a=$(this).searchbox("options");$(this).searchbox("setValue",a.originalValue)})},getName:function(a){return $.data(a[0],"searchbox").searchbox.find("input.searchbox-text").attr("name")},selectName:function(a,b){return a.each(function(){var a=$.data(this,"searchbox").menu;a&&a.children('div.menu-item[name="'+b+'"]').triggerHandler("click")})},destroy:function(a){return a.each(function(){var a=$(this).searchbox("menu");a&&a.menu("destroy"),$.data(this,"searchbox").searchbox.remove(),$(this).remove()})},resize:function(a,b){return a.each(function(){_6(this,b)})},disable:function(a){return a.each(function(){_1d(this,!0),_17(this)})},enable:function(a){return a.each(function(){_1d(this,!1),_17(this)})}},$.fn.searchbox.parseOptions=function(_31){var t=$(_31);return $.extend({},$.parser.parseOptions(_31,["width","height","prompt","menu"]),{value:t.val()||undefined,disabled:t.attr("disabled")?!0:undefined,searcher:t.attr("searcher")?eval(t.attr("searcher")):undefined})},$.fn.searchbox.defaults={width:"auto",height:22,prompt:"",value:"",menu:null,disabled:!1,searcher:function(a,b){}}})(jQuery)