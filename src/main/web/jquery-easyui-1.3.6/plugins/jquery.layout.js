/**
 * jQuery EasyUI 1.3.6
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */

(function(a){function c(b){function h(a){var b=a.panel("options");return Math.min(Math.max(b.height,b.minHeight),b.maxHeight)}function j(a){var b=a.panel("options");return Math.min(Math.max(b.width,b.minWidth),b.maxWidth)}function k(a,b){if(!a.length||!i(a))return;var c=a.panel("options"),d=h(a);a.panel("resize",{width:f.width(),height:d,left:0,top:b=="n"?0:f.height()-d}),g.height-=d,b=="n"&&(g.top+=d,!c.split&&c.border&&g.top--),!c.split&&c.border&&g.height++}function l(a,b){if(!a.length||!i(a))return;var c=a.panel("options"),d=j(a);a.panel("resize",{width:d,height:g.height,left:b=="e"?f.width()-d:0,top:g.top}),g.width-=d,b=="w"&&(g.left+=d,!c.split&&c.border&&g.left--),!c.split&&c.border&&g.width++}var c=a.data(b,"layout"),d=c.options,e=c.panels,f=a(b);b.tagName=="BODY"?f._fit():d.fit?f.css(f._fit()):f._fit(!1);var g={top:0,left:0,width:f.width(),height:f.height()};k(i(e.expandNorth)?e.expandNorth:e.north,"n"),k(i(e.expandSouth)?e.expandSouth:e.south,"s"),l(i(e.expandEast)?e.expandEast:e.east,"e"),l(i(e.expandWest)?e.expandWest:e.west,"w"),e.center.panel("resize",g)}function d(b){function f(c){c.children("div").each(function(){var c=a.fn.layout.parsePanelOptions(this);"north,south,east,west,center".indexOf(c.region)>=0&&e(b,c,this)})}var d=a(b);d.addClass("layout"),d.children("form").length?f(d.children("form")):f(d),d.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>'),d.bind("_resize",function(d,e){var f=a.data(b,"layout").options;return(f.fit==1||e)&&c(b),!1})}function e(d,e,f){e.region=e.region||"center";var h=a.data(d,"layout").panels,i=a(d),j=e.region;if(h[j].length)return;var k=a(f);k.length||(k=a("<div></div>").appendTo(i));var l=a.extend({},a.fn.layout.paneldefaults,{width:k.length?parseInt(k[0].style.width)||k.outerWidth():"auto",height:k.length?parseInt(k[0].style.height)||k.outerHeight():"auto",doSize:!1,collapsible:!0,cls:"layout-panel layout-panel-"+j,bodyCls:"layout-body",onOpen:function(){var b=a(this).panel("header").children("div.panel-tool");b.children("a.panel-tool-collapse").hide();var c={north:"up",south:"down",east:"right",west:"left"};if(!c[j])return;var e="layout-button-"+c[j],f=b.children("a."+e);f.length||(f=a('<a href="javascript:void(0)"></a>').addClass(e).appendTo(b),f.bind("click",{dir:j},function(a){return g(d,a.data.dir),!1})),a(this).panel("options").collapsible?f.show():f.hide()}},e);k.panel(l),h[j]=k;if(k.panel("options").split){var m=k.panel("panel");m.addClass("layout-split-"+j);var n="";j=="north"&&(n="s"),j=="south"&&(n="n"),j=="east"&&(n="w"),j=="west"&&(n="e"),m.resizable(a.extend({},{handles:n,onStartResize:function(c){b=!0;if(j=="north"||j=="south")var e=a(">div.layout-split-proxy-v",d);else var e=a(">div.layout-split-proxy-h",d);var f=0,g=0,h=0,k=0,l={display:"block"};j=="north"?(l.top=parseInt(m.css("top"))+m.outerHeight()-e.height(),l.left=parseInt(m.css("left")),l.width=m.outerWidth(),l.height=e.height()):j=="south"?(l.top=parseInt(m.css("top")),l.left=parseInt(m.css("left")),l.width=m.outerWidth(),l.height=e.height()):j=="east"?(l.top=parseInt(m.css("top"))||0,l.left=parseInt(m.css("left"))||0,l.width=e.width(),l.height=m.outerHeight()):j=="west"&&(l.top=parseInt(m.css("top"))||0,l.left=m.outerWidth()-e.width(),l.width=e.width(),l.height=m.outerHeight()),e.css(l),a('<div class="layout-mask"></div>').css({left:0,top:0,width:i.width(),height:i.height()}).appendTo(i)},onResize:function(b){if(j=="north"||j=="south"){var c=a(">div.layout-split-proxy-v",d);c.css("top",b.pageY-a(d).offset().top-c.height()/2)}else{var c=a(">div.layout-split-proxy-h",d);c.css("left",b.pageX-a(d).offset().left-c.width()/2)}return!1},onStopResize:function(a){i.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide(),k.panel("resize",a.data),c(d),b=!1,i.find(">div.layout-mask").remove()}},e))}}function f(b,c){var d=a.data(b,"layout").panels;if(d[c].length){d[c].panel("destroy"),d[c]=a();var e="expand"+c.substring(0,1).toUpperCase()+c.substring(1);d[e]&&(d[e].panel("destroy"),d[e]=undefined)}}function g(c,d,e){function n(b){var e;b=="east"?e="layout-button-left":b=="west"?e="layout-button-right":b=="north"?e="layout-button-down":b=="south"&&(e="layout-button-up");var f=a("<div></div>").appendTo(c);return f.panel(a.extend({},a.fn.layout.paneldefaults,{cls:"layout-expand layout-expand-"+b,title:"&nbsp;",closed:!0,minWidth:0,minHeight:0,doSize:!1,tools:[{iconCls:e,handler:function(){return h(c,d),!1}}]})),f.panel("panel").hover(function(){a(this).addClass("layout-expand-over")},function(){a(this).removeClass("layout-expand-over")}),f}function o(){var b=a(c),e=f.center.panel("options"),g=k.collapsedSize;if(d=="east"){var h=e.width+k.width-g;return(k.split||!k.border)&&h++,{resizeC:{width:h},expand:{left:b.width()-k.width},expandP:{top:e.top,left:b.width()-g,width:g,height:e.height},collapse:{left:b.width(),top:e.top,height:e.height}}}if(d=="west"){var h=e.width+k.width-g;return(k.split||!k.border)&&h++,{resizeC:{width:h,left:g-1},expand:{left:0},expandP:{left:0,top:e.top,width:g,height:e.height},collapse:{left:-k.width,top:e.top,height:e.height}}}if(d=="north"){var j=e.height;return i(f.expandNorth)||(j+=k.height-g+(k.split||!k.border?1:0)),f.east.add(f.west).add(f.expandEast).add(f.expandWest).panel("resize",{top:g-1,height:j}),{resizeC:{top:g-1,height:j},expand:{top:0},expandP:{top:0,left:0,width:b.width(),height:g},collapse:{top:-k.height,width:b.width()}}}if(d=="south"){var j=e.height;return i(f.expandSouth)||(j+=k.height-g+(k.split||!k.border?1:0)),f.east.add(f.west).add(f.expandEast).add(f.expandWest).panel("resize",{height:j}),{resizeC:{height:j},expand:{top:b.height()-k.height},expandP:{top:b.height()-g,left:0,width:b.width(),height:g},collapse:{top:b.height(),width:b.width()}}}}e==undefined&&(e="normal");var f=a.data(c,"layout").panels,j=f[d],k=j.panel("options");if(k.onBeforeCollapse.call(j)==0)return;var l="expand"+d.substring(0,1).toUpperCase()+d.substring(1);f[l]||(f[l]=n(d),f[l].panel("panel").bind("click",function(){var e=o();return j.panel("expand",!1).panel("open").panel("resize",e.collapse),j.panel("panel").animate(e.expand,function(){a(this).unbind(".layout").bind("mouseleave.layout",{region:d},function(a){if(b==1)return;g(c,a.data.region)})}),!1}));var m=o();i(f[l])||f.center.panel("resize",m.resizeC),j.panel("panel").animate(m.collapse,e,function(){j.panel("collapse",!1).panel("close"),f[l].panel("open").panel("resize",m.expandP),a(this).unbind(".layout")})}function h(b,d){function j(){var c=a(b),f=e.center.panel("options");if(d=="east"&&e.expandEast)return{collapse:{left:c.width(),top:f.top,height:f.height},expand:{left:c.width()-e.east.panel("options").width}};if(d=="west"&&e.expandWest)return{collapse:{left:-e.west.panel("options").width,top:f.top,height:f.height},expand:{left:0}};if(d=="north"&&e.expandNorth)return{collapse:{top:-e.north.panel("options").height,width:c.width()},expand:{top:0}};if(d=="south"&&e.expandSouth)return{collapse:{top:c.height(),width:c.width()},expand:{top:c.height()-e.south.panel("options").height}}}var e=a.data(b,"layout").panels,f=e[d],g=f.panel("options");if(g.onBeforeExpand.call(f)==0)return;var h=j(),i="expand"+d.substring(0,1).toUpperCase()+d.substring(1);e[i]&&(e[i].panel("close"),f.panel("panel").stop(!0,!0),f.panel("expand",!1).panel("open").panel("resize",h.collapse),f.panel("panel").animate(h.expand,function(){c(b)}))}function i(a){return a?a.length?a.panel("panel").is(":visible"):!1:!1}function j(b){var c=a.data(b,"layout").panels;c.east.length&&c.east.panel("options").collapsed&&g(b,"east",0),c.west.length&&c.west.panel("options").collapsed&&g(b,"west",0),c.north.length&&c.north.panel("options").collapsed&&g(b,"north",0),c.south.length&&c.south.panel("options").collapsed&&g(b,"south",0)}var b=!1;a.fn.layout=function(b,e){return typeof b=="string"?a.fn.layout.methods[b](this,e):(b=b||{},this.each(function(){var e=a.data(this,"layout");if(e)a.extend(e.options,b);else{var f=a.extend({},a.fn.layout.defaults,a.fn.layout.parseOptions(this),b);a.data(this,"layout",{options:f,panels:{center:a(),north:a(),south:a(),east:a(),west:a()}}),d(this)}c(this),j(this)}))},a.fn.layout.methods={resize:function(a){return a.each(function(){c(this)})},panel:function(b,c){return a.data(b[0],"layout").panels[c]},collapse:function(a,b){return a.each(function(){g(this,b)})},expand:function(a,b){return a.each(function(){h(this,b)})},add:function(b,d){return b.each(function(){e(this,d),c(this),a(this).layout("panel",d.region).panel("options").collapsed&&g(this,d.region,0)})},remove:function(a,b){return a.each(function(){f(this,b),c(this)})}},a.fn.layout.parseOptions=function(b){return a.extend({},a.parser.parseOptions(b,[{fit:"boolean"}]))},a.fn.layout.defaults={fit:!1},a.fn.layout.parsePanelOptions=function(b){var c=a(b);return a.extend({},a.fn.panel.parseOptions(b),a.parser.parseOptions(b,["region",{split:"boolean",collpasedSize:"number",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))},a.fn.layout.paneldefaults=a.extend({},a.fn.panel.defaults,{region:null,split:!1,collapsedSize:28,minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4})})(jQuery)