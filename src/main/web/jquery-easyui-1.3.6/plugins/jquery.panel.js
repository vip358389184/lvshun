/**
 * jQuery EasyUI 1.3.6
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */

(function($){function _1(a){a._remove()}function _3(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel,e=d.children("div.panel-header"),f=d.children("div.panel-body");b&&$.extend(c,{width:b.width,height:b.height,left:b.left,top:b.top}),c.fit?$.extend(c,d._fit()):d._fit(!1),d.css({left:c.left,top:c.top}),isNaN(c.width)?d.width("auto"):d._outerWidth(c.width),e.add(f)._outerWidth(d.width()),isNaN(c.height)?f.height("auto"):(d._outerHeight(c.height),f._outerHeight(d.height()-e._outerHeight())),d.css("height",""),c.onResize.apply(a,[c.width,c.height]),$(a).find(">div:visible,>form>div:visible").triggerHandler("_resize")}function _a(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel;b&&(b.left!=null&&(c.left=b.left),b.top!=null&&(c.top=b.top)),d.css({left:c.left,top:c.top}),c.onMove.apply(a,[c.left,c.top])}function _f(a){$(a).addClass("panel-body");var b=$('<div class="panel"></div>').insertBefore(a);return b[0].appendChild(a),b.bind("_resize",function(){var b=$.data(a,"panel").options;return b.fit==1&&_3(a),!1}),b}function _13(_14){var _15=$.data(_14,"panel").options,_16=$.data(_14,"panel").panel;_15.tools&&typeof _15.tools=="string"&&_16.find(">div.panel-header>div.panel-tool .panel-tool-a").appendTo(_15.tools),_1(_16.children("div.panel-header"));if(_15.title&&!_15.noheader){var _17=$('<div class="panel-header"><div class="panel-title">'+_15.title+"</div></div>").prependTo(_16);_15.iconCls&&(_17.find(".panel-title").addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(_15.iconCls).appendTo(_17));var _18=$('<div class="panel-tool"></div>').appendTo(_17);_18.bind("click",function(a){a.stopPropagation()});if(_15.tools)if($.isArray(_15.tools))for(var i=0;i<_15.tools.length;i++){var t=$('<a href="javascript:void(0)"></a>').addClass(_15.tools[i].iconCls).appendTo(_18);_15.tools[i].handler&&t.bind("click",eval(_15.tools[i].handler))}else $(_15.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(_18)});_15.collapsible&&$('<a class="panel-tool-collapse" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){return _15.collapsed==1?_3e(_14,!0):_2e(_14,!0),!1}),_15.minimizable&&$('<a class="panel-tool-min" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){return _49(_14),!1}),_15.maximizable&&$('<a class="panel-tool-max" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){return _15.maximized==1?_4d(_14):_2d(_14),!1}),_15.closable&&$('<a class="panel-tool-close" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){return _19(_14),!1}),_16.children("div.panel-body").removeClass("panel-body-noheader")}else _16.children("div.panel-body").addClass("panel-body-noheader")}function _1a(a,b){function f(b){$(a).html(b),$.parser.parse($(a))}var c=$.data(a,"panel"),d=c.options;e&&(d.queryParams=b);if(d.href){if(!c.isLoaded||!d.cache){var e=$.extend({},d.queryParams);if(d.onBeforeLoad.call(a,e)==0)return;c.isLoaded=!1,_20(a),d.loadingMessage&&$(a).html($('<div class="panel-loading"></div>').html(d.loadingMessage)),d.loader.call(a,e,function(b){f(d.extractor.call(a,b)),d.onLoad.apply(a,arguments),c.isLoaded=!0},function(){d.onLoadError.apply(a,arguments)})}}else d.content&&(c.isLoaded||(_20(a),f(d.content),c.isLoaded=!0))}function _20(a){var b=$(a);b.find(".combo-f").each(function(){$(this).combo("destroy")}),b.find(".m-btn").each(function(){$(this).menubutton("destroy")}),b.find(".s-btn").each(function(){$(this).splitbutton("destroy")}),b.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),b.children("div").each(function(){$(this)._fit(!1)})}function _25(a){$(a).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible").each(function(){$(this).triggerHandler("_resize",[!0])})}function _27(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel;if(b!=1&&c.onBeforeOpen.call(a)==0)return;d.show(),c.closed=!1,c.minimized=!1;var e=d.children("div.panel-header").find("a.panel-tool-restore");e.length&&(c.maximized=!0),c.onOpen.call(a),c.maximized==1&&(c.maximized=!1,_2d(a)),c.collapsed==1&&(c.collapsed=!1,_2e(a)),c.collapsed||(_1a(a),_25(a))}function _19(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel;if(b!=1&&c.onBeforeClose.call(a)==0)return;d._fit(!1),d.hide(),c.closed=!0,c.onClose.call(a)}function _33(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel;if(b!=1&&c.onBeforeDestroy.call(a)==0)return;_20(a),_1(d),c.onDestroy.call(a)}function _2e(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel,e=d.children("div.panel-body"),f=d.children("div.panel-header").find("a.panel-tool-collapse");if(c.collapsed==1)return;e.stop(!0,!0);if(c.onBeforeCollapse.call(a)==0)return;f.addClass("panel-tool-expand"),b==1?e.slideUp("normal",function(){c.collapsed=!0,c.onCollapse.call(a)}):(e.hide(),c.collapsed=!0,c.onCollapse.call(a))}function _3e(a,b){var c=$.data(a,"panel").options,d=$.data(a,"panel").panel,e=d.children("div.panel-body"),f=d.children("div.panel-header").find("a.panel-tool-collapse");if(c.collapsed==0)return;e.stop(!0,!0);if(c.onBeforeExpand.call(a)==0)return;f.removeClass("panel-tool-expand"),b==1?e.slideDown("normal",function(){c.collapsed=!1,c.onExpand.call(a),_1a(a),_25(a)}):(e.show(),c.collapsed=!1,c.onExpand.call(a),_1a(a),_25(a))}function _2d(a){var b=$.data(a,"panel").options,c=$.data(a,"panel").panel,d=c.children("div.panel-header").find("a.panel-tool-max");if(b.maximized==1)return;d.addClass("panel-tool-restore"),$.data(a,"panel").original||($.data(a,"panel").original={width:b.width,height:b.height,left:b.left,top:b.top,fit:b.fit}),b.left=0,b.top=0,b.fit=!0,_3(a),b.minimized=!1,b.maximized=!0,b.onMaximize.call(a)}function _49(a){var b=$.data(a,"panel").options,c=$.data(a,"panel").panel;c._fit(!1),c.hide(),b.minimized=!0,b.maximized=!1,b.onMinimize.call(a)}function _4d(a){var b=$.data(a,"panel").options,c=$.data(a,"panel").panel,d=c.children("div.panel-header").find("a.panel-tool-max");if(b.maximized==0)return;c.show(),d.removeClass("panel-tool-restore"),$.extend(b,$.data(a,"panel").original),_3(a),b.minimized=!1,b.maximized=!1,$.data(a,"panel").original=null,b.onRestore.call(a)}function _52(a){var b=$.data(a,"panel").options,c=$.data(a,"panel").panel,d=$(a).panel("header"),e=$(a).panel("body");c.css(b.style),c.addClass(b.cls),b.border?(d.removeClass("panel-header-noborder"),e.removeClass("panel-body-noborder")):(d.addClass("panel-header-noborder"),e.addClass("panel-body-noborder")),d.addClass(b.headerCls),e.addClass(b.bodyCls),b.id?$(a).attr("id",b.id):$(a).attr("id","")}function _58(a,b){$.data(a,"panel").options.title=b,$(a).panel("header").find("div.panel-title").html(b)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(a){}})};var TO=!1,_5b=!0;$(window).unbind(".panel").bind("resize.panel",function(){if(!_5b)return;TO!==!1&&clearTimeout(TO),TO=setTimeout(function(){_5b=!1;var a=$("body.layout");a.length?a.layout("resize"):$("body").children("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible").triggerHandler("_resize"),_5b=!0,TO=!1},200)}),$.fn.panel=function(a,b){return typeof a=="string"?$.fn.panel.methods[a](this,b):(a=a||{},this.each(function(){var b=$.data(this,"panel"),c;b?(c=$.extend(b.options,a),b.isLoaded=!1):(c=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),a),$(this).attr("title",""),b=$.data(this,"panel",{options:c,panel:_f(this),isLoaded:!1})),_13(this),_52(this),c.doSize==1&&(b.panel.css("display","block"),_3(this)),c.closed==1||c.minimized==1?b.panel.hide():_27(this)}))},$.fn.panel.methods={options:function(a){return $.data(a[0],"panel").options},panel:function(a){return $.data(a[0],"panel").panel},header:function(a){return $.data(a[0],"panel").panel.find(">div.panel-header")},body:function(a){return $.data(a[0],"panel").panel.find(">div.panel-body")},setTitle:function(a,b){return a.each(function(){_58(this,b)})},open:function(a,b){return a.each(function(){_27(this,b)})},close:function(a,b){return a.each(function(){_19(this,b)})},destroy:function(a,b){return a.each(function(){_33(this,b)})},refresh:function(a,b){return a.each(function(){var a=$.data(this,"panel");a.isLoaded=!1,b&&(typeof b=="string"?a.options.href=b:a.options.queryParams=b),_1a(this)})},resize:function(a,b){return a.each(function(){_3(this,b)})},move:function(a,b){return a.each(function(){_a(this,b)})},maximize:function(a){return a.each(function(){_2d(this)})},minimize:function(a){return a.each(function(){_49(this)})},restore:function(a){return a.each(function(){_4d(this)})},collapse:function(a,b){return a.each(function(){_2e(this,b)})},expand:function(a,b){return a.each(function(){_3e(this,b)})}},$.fn.panel.parseOptions=function(a){var b=$(a);return $.extend({},$.parser.parseOptions(a,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"}]),{loadingMessage:b.attr("loadingMessage")!=undefined?b.attr("loadingMessage"):undefined})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,tools:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(a,b,c){var d=$(this).panel("options");if(!d.href)return!1;$.ajax({type:d.method,url:d.href,cache:!1,data:a,dataType:"html",success:function(a){b(a)},error:function(){c.apply(this,arguments)}})},extractor:function(a){var b=/<body[^>]*>((.|[\n\r])*)<\/body>/im,c=b.exec(a);return c?c[1]:a},onBeforeLoad:function(a){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(a,b){},onMove:function(a,b){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}})(jQuery)