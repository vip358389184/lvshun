/**
 * jQuery EasyUI 1.3.6
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */

(function(a){function b(b){var c=a.data(b.data.target,"draggable"),d=c.options,e=c.proxy,f=b.data,g=f.startLeft+b.pageX-f.startX,h=f.startTop+b.pageY-f.startY;e&&(e.parent()[0]==document.body?(d.deltaX!=null&&d.deltaX!=undefined?g=b.pageX+d.deltaX:g=b.pageX-b.data.offsetWidth,d.deltaY!=null&&d.deltaY!=undefined?h=b.pageY+d.deltaY:h=b.pageY-b.data.offsetHeight):(d.deltaX!=null&&d.deltaX!=undefined&&(g+=b.data.offsetWidth+d.deltaX),d.deltaY!=null&&d.deltaY!=undefined&&(h+=b.data.offsetHeight+d.deltaY))),b.data.parent!=document.body&&(g+=a(b.data.parent).scrollLeft(),h+=a(b.data.parent).scrollTop()),d.axis=="h"?f.left=g:d.axis=="v"?f.top=h:(f.left=g,f.top=h)}function c(b){var c=a.data(b.data.target,"draggable"),d=c.options,e=c.proxy;e||(e=a(b.data.target)),e.css({left:b.data.left,top:b.data.top}),a("body").css("cursor",d.cursor)}function d(d){a.fn.draggable.isDragging=!0;var e=a.data(d.data.target,"draggable"),f=e.options,g=a(".droppable").filter(function(){return d.data.target!=this}).filter(function(){var b=a.data(this,"droppable").options.accept;return b?a(b).filter(function(){return this==d.data.target}).length>0:!0});e.droppables=g;var h=e.proxy;return h||(f.proxy?(f.proxy=="clone"?h=a(d.data.target).clone().insertAfter(d.data.target):h=f.proxy.call(d.data.target,d.data.target),e.proxy=h):h=a(d.data.target)),h.css("position","absolute"),b(d),c(d),f.onStartDrag.call(d.data.target,d),!1}function e(d){var e=a.data(d.data.target,"draggable");b(d),e.options.onDrag.call(d.data.target,d)!=0&&c(d);var f=d.data.target;return e.droppables.each(function(){var b=a(this);if(b.droppable("options").disabled)return;var c=b.offset();d.pageX>c.left&&d.pageX<c.left+b.outerWidth()&&d.pageY>c.top&&d.pageY<c.top+b.outerHeight()?(this.entered||(a(this).trigger("_dragenter",[f]),this.entered=!0),a(this).trigger("_dragover",[f])):this.entered&&(a(this).trigger("_dragleave",[f]),this.entered=!1)}),!1}function f(b){function i(){d&&d.remove(),c.proxy=null}function j(){var d=!1;return c.droppables.each(function(){var c=a(this);if(c.droppable("options").disabled)return;var e=c.offset();if(b.pageX>e.left&&b.pageX<e.left+c.outerWidth()&&b.pageY>e.top&&b.pageY<e.top+c.outerHeight())return f.revert&&a(b.data.target).css({position:b.data.startPosition,left:b.data.startLeft,top:b.data.startTop}),a(this).trigger("_drop",[b.data.target]),i(),d=!0,this.entered=!1,!1}),!d&&!f.revert&&i(),d}a.fn.draggable.isDragging=!1,e(b);var c=a.data(b.data.target,"draggable"),d=c.proxy,f=c.options;if(f.revert)if(j()==1)a(b.data.target).css({position:b.data.startPosition,left:b.data.startLeft,top:b.data.startTop});else if(d){var g,h;d.parent()[0]==document.body?(g=b.data.startX-b.data.offsetWidth,h=b.data.startY-b.data.offsetHeight):(g=b.data.startLeft,h=b.data.startTop),d.animate({left:g,top:h},function(){i()})}else a(b.data.target).animate({left:b.data.startLeft,top:b.data.startTop},function(){a(b.data.target).css("position",b.data.startPosition)});else a(b.data.target).css({position:"absolute",left:b.data.left,top:b.data.top}),j();return f.onStopDrag.call(b.data.target,b),a(document).unbind(".draggable"),setTimeout(function(){a("body").css("cursor","")},100),!1}a.fn.draggable=function(b,c){return typeof b=="string"?a.fn.draggable.methods[b](this,c):this.each(function(){function i(b){var c=a.data(b.data.target,"draggable"),d=c.handle,e=a(d).offset(),f=a(d).outerWidth(),g=a(d).outerHeight(),h=b.pageY-e.top,i=e.left+f-b.pageX,j=e.top+g-b.pageY,k=b.pageX-e.left;return Math.min(h,i,j,k)>c.options.edge}var c,g=a.data(this,"draggable");g?(g.handle.unbind(".draggable"),c=a.extend(g.options,b)):c=a.extend({},a.fn.draggable.defaults,a.fn.draggable.parseOptions(this),b||{});var h=c.handle?typeof c.handle=="string"?a(c.handle,this):c.handle:a(this);a.data(this,"draggable",{options:c,handle:h});if(c.disabled){a(this).css("cursor","");return}h.unbind(".draggable").bind("mousemove.draggable",{target:this},function(b){if(a.fn.draggable.isDragging)return;var c=a.data(b.data.target,"draggable").options;i(b)?a(this).css("cursor",c.cursor):a(this).css("cursor","")}).bind("mouseleave.draggable",{target:this},function(b){a(this).css("cursor","")}).bind("mousedown.draggable",{target:this},function(b){if(i(b)==0)return;a(this).css("cursor","");var c=a(b.data.target).position(),g=a(b.data.target).offset(),h={startPosition:a(b.data.target).css("position"),startLeft:c.left,startTop:c.top,left:c.left,top:c.top,startX:b.pageX,startY:b.pageY,offsetWidth:b.pageX-g.left,offsetHeight:b.pageY-g.top,target:b.data.target,parent:a(b.data.target).parent()[0]};a.extend(b.data,h);var j=a.data(b.data.target,"draggable").options;if(j.onBeforeDrag.call(b.data.target,b)==0)return;a(document).bind("mousedown.draggable",b.data,d),a(document).bind("mousemove.draggable",b.data,e),a(document).bind("mouseup.draggable",b.data,f)})})},a.fn.draggable.methods={options:function(b){return a.data(b[0],"draggable").options},proxy:function(b){return a.data(b[0],"draggable").proxy},enable:function(b){return b.each(function(){a(this).draggable({disabled:!1})})},disable:function(b){return b.each(function(){a(this).draggable({disabled:!0})})}},a.fn.draggable.parseOptions=function(b){var c=a(b);return a.extend({},a.parser.parseOptions(b,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:c.attr("disabled")?!0:undefined})},a.fn.draggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,onBeforeDrag:function(a){},onStartDrag:function(a){},onDrag:function(a){},onStopDrag:function(a){}},a.fn.draggable.isDragging=!1})(jQuery)